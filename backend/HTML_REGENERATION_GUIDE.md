# üîÑ HTML Report Regeneration Scripts

–¢–µ–ø–µ—Ä —É –≤–∞—Å —î –¥–≤–∞ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó HTML –∑–≤—ñ—Ç—ñ–≤:

## üìã –î–æ—Å—Ç—É–ø–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏

### 1. **Basic Script** - `regenerate_html_reports.py` 
–ü—Ä–æ—Å—Ç–∏–π —ñ –Ω–∞–¥—ñ–π–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –±–∞–∑–æ–≤–æ—ó —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó.

### 2. **Enhanced Script** - `regenerate_html_enhanced.py` ‚ú®
–†–æ–∑—à–∏—Ä–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏.

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ü–æ–¥–∏–≤–∏—Ç–∏—Å—å —â–æ –±—É–¥–µ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ (DRY RUN):
```bash
# Basic version
python regenerate_html_reports.py --dry-run --limit 5

# Enhanced version  
python regenerate_html_enhanced.py --dry-run --limit 5
```

### –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ 10 —Ç–∞—Å–∫—ñ–≤:
```bash
# Basic version
python regenerate_html_reports.py --limit 10

# Enhanced version
python regenerate_html_enhanced.py --limit 10
```

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤

| Feature | Basic Script | Enhanced Script |
|---------|-------------|-----------------|
| –ë–∞–∑–æ–≤–∞ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è | ‚úÖ | ‚úÖ |
| Dry-run —Ä–µ–∂–∏–º | ‚úÖ | ‚úÖ |
| –õ—ñ–º—ñ—Ç –∫—ñ–ª—å–∫–æ—Å—Ç—ñ | ‚úÖ | ‚úÖ |
| –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ task IDs | ‚ùå | ‚úÖ |
| –§—ñ–ª—å—Ç—Ä –∑–∞ –¥–∞—Ç–æ—é | ‚ùå | ‚úÖ |
| Force —Ä–µ–∂–∏–º | ‚ùå | ‚úÖ |
| –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö | ‚ùå | ‚úÖ |
| Batch processing | ‚ùå | ‚úÖ |
| –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ‚ùå | ‚úÖ |

---

## üéØ Enhanced Script - –î–µ—Ç–∞–ª—å–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –û—Å–Ω–æ–≤–Ω—ñ –æ–ø—Ü—ñ—ó:
```bash
--limit 10           # –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∞—Å–∫—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á–∞–Ω–Ω—è–º –≤—Å—ñ)
--dry-run           # –ü–æ–∫–∞–∑–∞—Ç–∏ —â–æ –±—É–¥–µ –∑—Ä–æ–±–ª–µ–Ω–æ, –Ω–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏
--force             # –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ HTML –≤–∂–µ —î
```

### –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è:
```bash
--task-ids UUID1 UUID2 UUID3    # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ task ID
--since-days 7                  # –¢—ñ–ª—å–∫–∏ —Ç–∞—Å–∫–∏ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 7 –¥–Ω—ñ–≤  
--only-missing                  # –¢—ñ–ª—å–∫–∏ —Ç–∞—Å–∫–∏ –±–µ–∑ HTML –∑–≤—ñ—Ç—ñ–≤
```

### –û–±—Ä–æ–±–∫–∞:
```bash
--batch-size 5      # –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∞—Å–∫—ñ–≤ –æ–¥–Ω–æ—á–∞—Å–Ω–æ (–∑–∞ –∑–∞–º–æ–≤—á–∞–Ω–Ω—è–º 5)
--no-validate       # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é
```

---

## üìù –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ç–∞—Å–∫–∏:
```bash
python regenerate_html_enhanced.py \
  --task-ids 177e59a6-c960-4b31-9740-231b91be231f f9da824c-44b2-42c0-a8b1-c4d0a44bcc94 \
  --force
```

### 2. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç–∞—Å–∫–∏ –±–µ–∑ HTML (–∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–π —Ç–∏–∂–¥–µ–Ω—å):
```bash
python regenerate_html_enhanced.py \
  --only-missing \
  --since-days 7 \
  --limit 20
```

### 3. Force –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 5 —Ç–∞—Å–∫—ñ–≤:
```bash
python regenerate_html_enhanced.py \
  --force \
  --limit 5 \
  --batch-size 2
```

### 4. Dry run –¥–ª—è –≤—Å—ñ—Ö —Ç–∞—Å–∫—ñ–≤ –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ 3 –¥–Ω—ñ:
```bash
python regenerate_html_enhanced.py \
  --dry-run \
  --since-days 3
```

---

## üé® –©–æ –ø–æ–∫—Ä–∞—â—É—î—Ç—å—Å—è –ø—Ä–∏ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó

‚úÖ **–í—ñ–¥–µ–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**
- –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç—Ä—ñ–º –≤—ñ–¥–µ–æ
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏—Ö URL –≤—ñ–¥–µ–æ
- –ö–µ—à–æ–≤–∞–Ω—ñ –≤—ñ–¥–µ–æ —á–µ—Ä–µ–∑ API endpoint

‚úÖ **–ß–∞—Ç —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:** 
- Task ID –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–∞—Ç —Å–µ—Å—ñ–π
- –ö–Ω–æ–ø–∫–∏ "üí¨ –°—Ç–≤–æ—Ä–∏—Ç–∏ —á–∞—Ç"

‚úÖ **–í—ñ–∑—É–∞–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω:**
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –≤–µ—Ä—Å—Ç–∫–∞ —Ç–∞ —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è
- Responsive –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö
- –ö—Ä–∞—â—ñ –∫–æ–ª—å–æ—Ä–∏ —Ç–∞ —ñ–∫–æ–Ω–∫–∏

‚úÖ **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- Source URL –≤ –∑–∞–≥–æ–ª–æ–≤–∫—É –∑–≤—ñ—Ç—É
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- Fallback –æ–ø—Ü—ñ—ó –¥–ª—è –≤—ñ–¥–µ–æ

---

## üîç –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥–∏

–°–∫—Ä–∏–ø—Ç–∏ –≤–∏–≤–æ–¥—è—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é:

```
üöÄ Starting enhanced HTML report regeneration
üìã Found 5 tasks to process:
  1. task-id - Page Name (3 creatives) [HTML: ‚úì]
  2. ...
üîÑ Processing batch 1/2 (3 tasks)
üìä Progress: 3/5 tasks processed
üèÅ HTML report regeneration completed!
üìä Results:
   ‚úÖ Successfully regenerated: 3
   ‚è≠Ô∏è Skipped (already had HTML): 1  
   ‚ùå Failed: 1
```

---

## üÜò Troubleshooting

### –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ backend –∑–∞–ø—É—â–µ–Ω–∏–π –∞–±–æ .env —Ñ–∞–π–ª –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
ls -la .env
cat .env | grep MONGO
```

### –¢–∞—Å–∫ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ:
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ task_id –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
python regenerate_html_enhanced.py --dry-run --task-ids YOUR_TASK_ID
```

### –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:
```bash
# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ --force —â–æ–± –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é
python regenerate_html_enhanced.py --task-ids YOUR_TASK_ID --force --no-validate
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –î–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:
```bash
# –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –Ω–æ–≤—ñ —Ç–∞—Å–∫–∏ –±–µ–∑ HTML
python regenerate_html_enhanced.py --only-missing --limit 10
```

### –î–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–º—ñ–Ω –≤ –∫–æ–¥—ñ:
```bash
# Force —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö —Ç–∞—Å–∫—ñ–≤
python regenerate_html_enhanced.py --force --limit 5
```

### –î–ª—è –¥–µ–±–∞–≥—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∞—Å–∫—É:
```bash
# Dry run + –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π task
python regenerate_html_enhanced.py --dry-run --task-ids YOUR_TASK_ID
```

---

## üéØ –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫–∏–π —Å–∫—Ä–∏–ø—Ç

**Basic Script** - –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ:
- –®–≤–∏–¥–∫–æ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ N —Ç–∞—Å–∫—ñ–≤
- –ü—Ä–æ—Å—Ç–∏–π —ñ –Ω–∞–¥—ñ–π–Ω–∏–π –ø—Ä–æ—Ü–µ—Å  
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –≤–∏–≤—ñ–¥ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó

**Enhanced Script** - –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ:
- –¢–æ—á–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ç–∏–º, —â–æ —Ä–µ–≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è
- –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–∞–Ω–∏—Ö
- Batch processing –≤–µ–ª–∏–∫–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–∞—Å–∫—ñ–≤
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ —Ä—ñ–∑–Ω–∏–º–∏ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏